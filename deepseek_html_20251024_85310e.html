<!DOCTYPE html>
<html>
<head>
    <title>Research Portal</title>
    <style>
        body { font-family: sans-serif; margin: 40px; background: #f0f0f0; }
        .container { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        input, button { padding: 10px; margin: 5px; border: 1px solid #ccc; border-radius: 5px; }
        button { background: #4CAF50; color: white; cursor: pointer; }
        #frame { width: 100%; height: 80vh; border: 1px solid #ccc; margin-top: 20px; background: white; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Academic Research Portal</h1>
        <p>Enter a URL to access research materials:</p>
        <input type="text" id="urlInput" placeholder="https://example.com">
        <button onclick="loadSite()">Browse</button>
        <div id="status"></div>
        <iframe id="frame" sandbox="allow-scripts allow-forms allow-same-origin"></iframe>
    </div>

    <script>
        const proxyList = [
            'https://cors.eu.org/',
            'https://api.allorigins.win/raw?url=',
            'https://www.cors-anywhere.herokuapp.com/'
        ];
        let currentProxy = 0;

        function loadSite() {
            const input = document.getElementById('urlInput').value;
            const frame = document.getElementById('frame');
            const status = document.getElementById('status');

            if (!input) return;

            status.innerHTML = 'Connecting...';
            frame.srcdoc = '<html><body><p>Loading...</p></body></html>';

            const targetUrl = proxyList[currentProxy] + encodeURIComponent(input);
            currentProxy = (currentProxy + 1) % proxyList.length;

            fetch(targetUrl)
                .then(response => {
                    if (!response.ok) throw new Error('Network error');
                    return response.text();
                })
                .then(html => {
                    frame.srcdoc = html;
                    status.innerHTML = 'Connected.';
                })
                .catch(err => {
                    status.innerHTML = 'Error. Trying next proxy...';
                    setTimeout(loadSite, 500);
                });
        }

        document.getElementById('urlInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') loadSite();
        });
    </script>
</body>
</html>